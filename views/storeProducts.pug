doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title= title
    link(rel='stylesheet', href='/Styles/storeProducts.css')
    link(href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css', rel='stylesheet')
  
  body
    //- Navigation Bar
    nav.navbar
      .nav-container
        .nav-brand
          i.fas.fa-crown
          | Kings Collections
        
        .nav-menu
          .nav-item
            a(href='/api/cart')
              i.fas.fa-shopping-cart
              | MyCart
          .nav-item
            a(href='#history')
              i.fas.fa-history
              | History
          .nav-item
            a(href='/payment')
              i.fas.fa-credit-card
              | Payment
          .nav-item
            a(href='/orders')
              i.fas.fa-box
              | MyOrders
          .nav-item
            a(href='/profile')
              i.fas.fa-user
              | Profile
          .nav-item
            a(href='/client-page')
              i.fas.fa-user
              | Go Back

    .main-container
      //- Sidebar
      aside.sidebar
        .sidebar-header
          h2
            i.fas.fa-list
            | Categories
        
        .category-list
          .category-item.active(data-category='all')
            .category-icon
              i.fas.fa-th-large
            .category-name ALL CATEGORIES
          
          each category in categories
            .category-item(data-category=category._id)
              .category-icon
                img(src=category.image.startsWith('http') ? category.image : `/upload/category/${category.image}`, alt=category.name)
              .category-name= category.name

      //- Main Content
      main.main-content
        .content-header
          h1 Men's Collection
          .filter-info
            span#active-category All Categories
            span#product-count= products.length + ' Products'

        //- Products Grid
        .products-grid#products-container
          each product in products
            .product-card(data-category=product.category && product.category._id ? product.category._id : 'uncategorized')
              .product-image-container
                img.product-image(src=product.images && product.images[0] ? (product.images[0].startsWith('http') ? product.images[0] : `/upload/products/${product.images[0]}`) : '/images/placeholder.jpg', alt=product.title || 'Product Image')
                .product-overlay
                  .quick-view Quick View
              
              .product-info
                .product-header
                  h3.product-title= product.title || 'Untitled Product'
                  .product-stock Stock ID: #{product.stockId || 'N/A'}
                
                p.product-description= product.description || 'No description available'
                
                .product-footer
                  .product-price $#{product.price || '0.00'}
                  button.buy-now-btn(data-product-id=product._id)
                    i.fas.fa-shopping-bag
                    | Buy Now

    script(src='/vanilla-js/storeProducts.js')